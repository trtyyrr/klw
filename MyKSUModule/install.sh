##########################################################################################
# 环境检查逻辑
##########################################################################################

# 示例：检查是否为特定的安卓版本
if [ "$API" -lt "30" ]; then
  ui_print "! 本模块仅支持 Android 11+ (API 30+)"
  abort "! 安装终止"
fi

# 示例：创建初始配置文件（避免 webroot 找不到文件）
on_install() {
  ui_print "- 正在初始化省电模式配置文件..."
  echo "balance" > $MODPATH/mode.conf
}

# 设置权限（通常 KSU 会自动处理，但这里可以自定义）
set_permissions() {
  set_perm_recursive $MODPATH 0 0 0755 0644
  set_perm $MODPATH/service.sh 0 0 0755
}